 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>FIXORIUM Swap System</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  body {
    margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background: #181A20; min-height: 100vh; padding-bottom: 64px; color: white;
    display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
  }
  .fixorium-header {
    width: 100%; max-width: 500px;
    display: flex; align-items: center; justify-content: space-between;
    padding: 12px 24px; background: #23272F; flex-wrap: wrap; gap: 12px;
    box-sizing: border-box; margin-top: 16px;
  }
  .fixorium-logo {
    height: 36px; width: 36px; margin-right: 10px;
  }
  .fixorium-title {
    color: #fff; font-size: 24px; font-weight: bold; white-space: nowrap;
  }
  #walletSection {
    background: #31363F; border-radius: 6px; padding: 5px 15px;
    display: flex; align-items: center; gap: 10px; flex-wrap: wrap;
    justify-content: flex-end; min-width: 220px; font-size: 14px; box-sizing: border-box;
  }
  button.wallet-button, button.copy-btn, button.disconnect-btn {
    cursor: pointer; background: #29D6B6; border: none; border-radius: 6px;
    padding: 6px 12px; font-weight: 700; color: #23272F; font-size: 14px;
    transition: background-color 0.3s ease; user-select: none;
  }
  button.copy-btn, button.disconnect-btn {
    background: #444c56; color: white;
  }
  button.wallet-button:hover { background-color: #22bca7; }
  button.copy-btn:hover, button.disconnect-btn:hover { background-color: #555f70; }
  .signal-bot {
    position: fixed; bottom: 0; left: 0; width: 100%; background: #23272F;
    padding: 16px 0; display: flex; justify-content: center; border-top: 1px solid #23272F;
    z-index: 1000; gap: 36px; user-select: none; flex-wrap: wrap;
    font-size: 18px; color: #fff; box-sizing: border-box;
    min-height: 40px;
  }
  .signal {
    display: flex; align-items: center; gap: 8px; white-space: nowrap;
    font-weight: 700; font-family: monospace, monospace;
  }
  .signal-buy {
    color: #29D6B6; animation: blinkBuy 1.5s ease-in-out infinite;
  }
  .signal-sell {
    color: #F73E3E; animation: blinkSell 1.5s ease-in-out infinite;
  }
  @keyframes blinkBuy {
    0%, 100% {opacity: 1;}
    50% {opacity: 0.3;}
  }
  @keyframes blinkSell {
    0%, 100% {opacity: 1;}
    50% {opacity: 0.3;}
  }
</style>
</head>
<body>
<header class="fixorium-header">
  <div style="display:flex;align-items:center;">
    <svg class="fixorium-logo" viewBox="0 0 64 64" aria-hidden="true" focusable="false">
      <circle cx="32" cy="32" r="32" fill="#29D6B6" />
      <text x="32" y="42" text-anchor="middle" font-size="28" fill="#23272F" font-family="Arial" font-weight="bold">F</text>
    </svg>
    <span class="fixorium-title">FIXORIUM</span>
  </div>
  <div id="walletSection" aria-live="polite" aria-label="Wallet connection status">
    <!-- Fallback Connect button shown immediately -->
    <button id="connectWalletBtnFallback" class="wallet-button" type="button">Connect Phantom</button>
  </div>
</header>

<main>
  <!-- Your swap UI here if needed; omitted for brevity -->
</main>

<footer class="signal-bot" id="signalBot" aria-label="Market signals">
  <!-- Fallback signal content -->
  <div class="signal signal-buy" aria-live="polite">BTC <span aria-label="Buy signal">BUY</span></div>
  <div class="signal signal-sell" aria-live="polite">SOL <span aria-label="Sell signal">SELL</span></div>
  <div class="signal signal-buy" aria-live="polite">FIXERCOIN <span aria-label="Buy signal">BUY</span></div>
</footer>

<script type="module" defer>
  import { Connection, PublicKey, Transaction } from "https://cdn.jsdelivr.net/npm/@solana/web3.js@1.92.1/lib/index.esm.js";
  import { PhantomWalletAdapter } from "https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-wallets@0.21.0/lib/index.esm.js";

  const connection = new Connection("https://api.mainnet-beta.solana.com", "confirmed");
  const TOKENS = [
    { mint: "So11111111111111111111111111111111111111112", symbol: "SOL", decimals: 9 },
    { mint: "DezXAZ8z7PnrnRJjz3wXBoRhwTLdMPkqhuBczetogeoK", symbol: "BONK", decimals: 9 },
    { mint: "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v", symbol: "USDC", decimals: 6 },
    { mint: "EKpQGSJtjMFqKZ9KQanSqYXRcF8fBtUk6goG7zcX3New", symbol: "WIF", decimals: 9 }
  ];
  const SIGNAL_BOT_TOKENS = ["BTC", "SOL", "FIXERCOIN"];

  let walletAdapter = null;
  let walletConnected = false;
  let publicKey = null;

  function shortenAddress(addr) {
    return addr.slice(0, 4) + "..." + addr.slice(-4);
  }

  function renderWalletSection() {
    const el = document.getElementById("walletSection");
    el.innerHTML = "";
    if(walletConnected && publicKey) {
      const addr = publicKey.toBase58();
      el.innerHTML = `
        <span aria-label="Connected wallet address" title="${addr}" style="color:#fff;font-size:14px;">${shortenAddress(addr)}</span>
        <button id="copyAddressBtn" class="copy-btn" aria-label="Copy wallet address" type="button">Copy</button>
        <button id="disconnectWalletBtn" class="disconnect-btn" aria-label="Disconnect wallet" type="button">Disconnect</button>
      `;
      document.getElementById("copyAddressBtn").onclick = () => navigator.clipboard.writeText(addr).then(() => alert("Copied to clipboard!"));
      document.getElementById("disconnectWalletBtn").onclick = disconnectWallet;
    } else {
      el.innerHTML = `<button id="connectWalletBtn" class="wallet-button" type="button">Connect Phantom</button>`;
      document.getElementById("connectWalletBtn").onclick = tryConnectWallet;
    }
  }

  async function tryConnectWallet() {
    if(!window.solana || !window.solana.isPhantom) {
      alert("Phantom Wallet is not installed!");
      return;
    }
    try {
      const resp = await window.solana.connect();
      publicKey = resp.publicKey;
      walletConnected = true;
      window.solana.on("disconnect", disconnectWallet);
      renderWalletSection();
    } catch(e) {
      alert(`Connection failed: ${e.message || e}`);
    }
  }

  function disconnectWallet() {
    if(window.solana && window.solana.isPhantom && walletConnected) {
      window.solana.disconnect();
    }
    walletConnected = false;
    publicKey = null;
    renderWalletSection();
  }

  function renderSignalBot() {
    const signalBot = document.getElementById("signalBot");
    function randomSignal() { return Math.random() > 0.5 ? "BUY" : "SELL"; }
    function updateSignals() {
      signalBot.innerHTML = SIGNAL_BOT_TOKENS.map(t => {
        const s = randomSignal();
        return `<div class="signal signal-${s.toLowerCase()}" aria-live="polite">${t} <span aria-label="${s} signal">${s}</span></div>`
      }).join("");
    }
    updateSignals();
    setInterval(updateSignals, 1800);
  }

  window.addEventListener('load', () => {
    renderWalletSection();
    renderSignalBot();
  });
</script>
</body>
</html>
